/*! Copyright Novix S.A. 2019. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[119,3,27],{1161:function(n,e,o){"use strict";(function(t,a){var i,s,r=o(18),l="en";try{"es"!=(l=(l=navigator.language?navigator.language:navigator.userLanguage).substr(0,2).toLowerCase())&&"en"!=l&&(l="en")}catch(n){}i=[o(724),o(984),o(1488)("./login-"+l),o(782),o(1489),o(1490)],void 0===(s=function(n,e,i,s,l,c){return(0,r.setLanguageDictionary)(new i),t.View.extend({el:a("#content"),isAuth:!1,events:{"submit #frmLogin":"login","click #forgotPassword":"forgotPassword"},render:function(){var n={usingSSO:this.options&&this.options.fromSSO,fromLoginAs:this.options&&this.options.fromLoginAs,fromSocialAuth:this.options&&this.options.fromSocialAuth,socialLogins:__socialLogins.length>0};__customerStyles?(__customerStyles.customerTitle?n.title=__customerStyles.customerTitle:n.title=__appName,n.colorSchema=__customerStyles.customerColorSchema):(n.title=__appName,n.colorSchema="blue"),this.options&&this.options.fromSocialAuth&&1==this.options.userToken.companies.length?this._performCreateSession(-1):(this._performLogin("user","Pyplan123!",1),a("button.btn-linkedin").click(function(){var n=__socialLogins.find(function(n){return"linkedin"===n.app}).data.clientId,e=__uiURL;window.location="https://www.linkedin.com/oauth/v2/authorization?response_type=code&client_id=".concat(n,"&redirect_uri=").concat(e,"&state=").concat("ASDb4d0nvvwEfttrTwsmzksj2","&scope=").concat("r_liteprofile%20r_emailaddress%20w_member_social")}),a.cookie("cubeplan_username")?(a("input[name='user']").val(a.cookie("cubeplan_username")),a("input[name='pass']").focus()):a("input[name='user']").focus(),this.options&&(this.options.fromSSO||this.options.fromLoginAs)&&this.manageLoginError(this.options.err,"","",-1),this.options&&this.options.fromSocialAuth&&this.showCompanySelector(this.options.userToken))},login:function(){a("#loginError").hide(),a("#frmLogin .form-group").removeClass("has-error"),a("#imgLoading").show(),a("#frmLogin button[type='submit']").attr("disabled","disabled");var n=a("input[name='user']").val(),e=a("input[name='pass']").val(),o=a("select[name='company']").val();return"-1"!==o&&a.cookie("cubeplan_company",o,{expires:30}),this._performLogin(n,e,o),!1},_performLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,s=this,r=new n;this.options&&this.options.fromLoginAs?r.loginas(this.options.userId,this.options.userToken,i,function(n){Promise.all([o.e(6),o.e(80)]).then(function(){var n=[o(684)];(function(n){(new n).showApp()}).apply(null,n)}).catch(o.oe)},function(n){s.manageLoginError(n,"","",i)}):this.isAuth||this.options&&this.options.fromSocialAuth?s._performCreateSession(i):r.connect(e,t,i,function(n){s.isAuth=!0,a("#remember").is(":checked")?a.cookie("cubeplan_username",e,{expires:20}):a.removeCookie("cubeplan_username"),n&&n.companies&&(1==n.companies.length?s._performCreateSession(-1):s.showCompanySelector(n))},function(n){s.manageLoginError(n,e,t,i)})},_performCreateSession:function(e){var t=new n,i=this,r=void 0,l=setTimeout(function(){(r=new s).render({custom_el:a("body")})},5e3);t.createSession(e,function(n){clearTimeout(l),r&&r.done(),Promise.all([o.e(6),o.e(80)]).then(function(){var n=[o(684)];(function(n){(new n).showApp()}).apply(null,n)}).catch(o.oe)},function(n){clearTimeout(l),r&&r.close(),i.manageLoginError(n)})},showCompanySelector:function(n){a("#imgLoading").hide(),a("#frmLogin button[type='submit']").attr("disabled",!1);for(var e={options:[]},o=0;o<n.companies.length;o++)e.options.push({value:n.companies[o].id,name:n.companies[o].name});var t=c(e);a("select[name='company']").html(t),(0,r.select2)("#frmLogin"),a("div.login-body div.forget").hide(),a("input[name='user']").hide(),a("input[name='pass']").hide(),a("#frmLogin div.remember").hide(),a("#frmLogin input[type='submit']").val((0,r.translate)("select")),a("#frmLogin button[type='submit']").focus(),a("div.company-selector").show(),a.cookie("cubeplan_company")&&a("select[name='company']").select2("val",a.cookie("cubeplan_company"))},manageLoginError:function(n){a("#loginError").show(),a("#imgLoading").hide(),a("#loginError").html(n),a("#frmLogin button[type='submit']").attr("disabled",!1)},forgotPassword:function(){a("#frmLogin .form-group").removeClass("has-error"),a("#imgLoading").show(),a("#frmLogin input[type='submit']").attr("disabled","disabled"),a("#loginError").html("");var n=a("input[name='user']").val();if(""==n)a("#loginError").html((0,r.translate)("input_username")),a("#frmLogin button[type='submit']").attr("disabled",!1);else{var o=window.location.href,t=this.sanitizeUri(o);(new e).sendPasswordResetEmail(n,t,function(n){a("#frmLogin button[type='submit']").attr("disabled",!1),n?a("#loginError").html((0,r.translate)("email_sent_password")):a("#loginError").html((0,r.translate)("email_error_password"))},function(n){a("#frmLogin button[type='submit']").attr("disabled",!1),a("#loginError").html(n)})}return!1},sanitizeUri:function(n){var e=new RegExp("(index.html|#)","ig");return n=n.replace(e,"")}})}.apply(e,i))||(n.exports=s)}).call(this,o(218),o(1))},1162:function(n,e,o){"use strict";(function(o){var t;void 0===(t=function(){return o.Model.extend({sign_in:"Sign in",user:"User",password:"Password",remember_me:"Remember me",login_to_cubeplan:"Login",dont_have_an_account:"Don't have an account?",or_request_a_free_account:"or request a free account",here:"here",connect_with:"Connect with",forgot_password:"Forgot password?",user_not_found:"The user or password is incorrect",input_username:"Please input yout username",email_sent_password:"We have sent you an email to reset your password",email_error_password:"There was a problem sending you the email, please try again later",user_inactive:"The user is not active",select_company:"(select company)",select:"Select",starting_environment:"Starting environment",creating_environment:"Creating environment",loading_workspace:"Loading workspace",starting_pyplan_calc_engine:"Starting Pyplan calc engine",opening_model:"Opening model",licenceok:"Your licence is valid",activation_code:"Activation code",licence_key:"Licence key",validate:"Validate",licence_invalid:"The licence key is not valid. Please contact your administrator",licence_ok_a:"The licence key is ok",click_here:"Click here",login_again:"and login again.",privacy_policy:"By signing up, you agree to the <a href='http://pyplan.com/privacy-notes/Pyplan%20Terms%20of%20Service.pdf' target='_blank'>Terms of Service</a> and <a href='http://pyplan.com/privacy-notes/Pyplan%20Privacy%20Policy.pdf' target='_blank'>Privacy Policy</a>"})}.apply(e,[]))||(n.exports=t)}).call(this,o(218))},1163:function(n,e,o){"use strict";(function(o){var t;void 0===(t=function(){return o.Model.extend({sign_in:"Iniciar",user:"Usuario",password:"Contraseña",remember_me:"Recordar datos",login_to_cubeplan:"Iniciar sesión",dont_have_an_account:"¿No posee una cuenta?",or_request_a_free_account:"o solicite una cuenta gratis",here:"aquí",connect_with:"Conectar con",forgot_password:"¿Olvidó su contraseña?",user_not_found:"El usuario o la contraseña no es correcta",input_username:"Por favor ingrese un nombre de usuario",email_sent_password:"Te enviamos un email para resetear tu contraseña",email_error_password:"Ha ocurrido un problema al enviar el email, por favor vuelve a intentar más tarde",user_inactive:"El usuario se encuentra desactivado",select_company:"(selecciona una empresa)",select:"Seleccionar",starting_environment:"Iniciando entorno",creating_environment:"Creando entorno",loading_workspace:"Cargando espacio de trabajo",starting_pyplan_calc_engine:"Iniciando motor de cálculo de Pyplan",opening_model:"Abriendo modelo",licenceok:"Your licence is valid",activation_code:"Activation code",licence_key:"Licence key",validate:"Validate",licence_invalid:"The licence key is not valid. Please contact your administrator",licence_ok_a:"The licence key is ok",click_here:"Click here",login_again:"and login again.",privacy_policy:"El uso de Pyplan implica la aceptación de los <a href='http://pyplan.com/privacy-notes/Pyplan%20Terms%20of%20Service.pdf' target='_blank'>Términos de Servicio</a> y <a href='http://pyplan.com/privacy-notes/Pyplan%20Privacy%20Policy.pdf' target='_blank'>Política de Privacidad</a>"})}.apply(e,[]))||(n.exports=t)}).call(this,o(218))},1488:function(n,e,o){var t={"./login-en":1162,"./login-en.js":1162,"./login-es":1163,"./login-es.js":1163};function a(n){var e=i(n);return o(e)}function i(n){var e=t[n];if(!(e+1)){var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}return e}a.keys=function(){return Object.keys(t)},a.resolve=i,n.exports=a,a.id=1488},1489:function(n,e,o){var t=o(690);function a(n){return n&&(n.__esModule?n.default:n)}n.exports=(t.default||t).template({1:function(n,e,o,t,a){return" col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3 \n      "},3:function(n,e,o,t,a){return" col-sm-10 col-sm-offset-1 col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4 "},5:function(n,e,o,t,a){return" col-sm-6 "},7:function(n,e,o,t,a){return" col-sm-12 "},9:function(n,e,o,t,a){return" "},11:function(n,e,o,t,a){var i;return" "+(null!=(i=o.if.call(null!=e?e:n.nullContext||{},null!=e?e.fromLoginAs:e,{name:"if",hash:{},fn:n.program(9,a,0),inverse:n.program(12,a,0),data:a}))?i:"")+" "},12:function(n,e,t,i,s){var r=null!=e?e:n.nullContext||{},l=n.escapeExpression;return'\n\n                  <div class="form-group">\n                    <div class="email controls">\n                      <input type="text" name=\'user\' placeholder="'+l(a(o(688)).call(r,"user",{name:"L",hash:{},data:s}))+'" class=\'form-control\'\n                        data-rule-required="true" data-noshow-error="true" autocomplete="off">\n                    </div>\n                  </div>\n\n                  <div class="form-group">\n                    <div class="pw controls">\n                      <input type="password" name="pass" placeholder="'+l(a(o(688)).call(r,"password",{name:"L",hash:{},data:s}))+'" class=\'form-control\'\n                        data-rule-required="true" data-noshow-error="true" autocomplete="off">\n                    </div>\n                  </div>\n                  '},14:function(n,e,t,i,s){var r=null!=e?e:n.nullContext||{},l=n.escapeExpression;return'        <div class="col-sm-6 login-social">\n          <div class="panel">\n            <div class="panel-heading">\n              <h3 class="panel-title">'+l(a(o(688)).call(r,"dont_have_an_account",{name:"L",hash:{},data:s}))+'</h3>\n            </div>\n            <ul class="list-group">\n              <li class="list-group-item">\n                <button type="button" class="btn btn-md btn-block btn-linkedin">\n                  <i class="fab fa-linkedin" />\n                  '+l(a(o(688)).call(r,"connect_with",{name:"L",hash:{},data:s}))+' LinkedIn\n                </button>\n              </li>\n              <li class="list-group-item text-center">\n                '+l(a(o(688)).call(r,"or_request_a_free_account",{name:"L",hash:{},data:s}))+' <a href="http://pyplan.com/contact/" target="_blank">'+l(a(o(688)).call(r,"here",{name:"L",hash:{},data:s}))+"</a>\n              </li>\n            </ul>\n          </div>\n        </div>\n"},16:function(n,e,t,i,s){var r;return'      <div class="row">\n        <div class="col-md-12">\n          <div class="text-center">\n            '+(null!=(r=a(o(688)).call(null!=e?e:n.nullContext||{},"privacy_policy",{name:"L",hash:{},data:s}))?r:"")+"\n          </div>\n        </div>\n      </div>\n"},compiler:[7,">= 4.0.0"],main:function(n,e,t,i,s){var r,l=null!=e?e:n.nullContext||{},c=n.escapeExpression;return'<div class="container-fluid logincontent">\n  <div class="row">\n    <div class="'+(null!=(r=t.if.call(l,null!=e?e.socialLogins:e,{name:"if",hash:{},fn:n.program(1,s,0),inverse:n.program(3,s,0),data:s}))?r:"")+' login-body">\n      <div class="row">\n        <div class="col-md-12">\n          <div class="isologo center-block" />\n        </div>\n\n        <div class="'+(null!=(r=t.if.call(l,null!=e?e.socialLogins:e,{name:"if",hash:{},fn:n.program(5,s,0),inverse:n.program(7,s,0),data:s}))?r:"")+' ">\n          <div class="panel">\n            <div class="panel-heading">\n              <h3 class="panel-title">'+c(a(o(688)).call(l,"sign_in",{name:"L",hash:{},data:s}))+'</h3>\n            </div>\n            <ul class="list-group">\n              <li class="list-group-item">\n                <form action="#" method=\'get\' class=\'form-validate\' id="frmLogin">\n\n                  <div class="form-group company-selector nodisplay">\n                    <select name=\'company\' class=\'select2-me\' data-nosearch="1" data-placeholder="aaaaaaaaaaaa"\n                      style="width:100%;">\n                      <option value="-1" selected="selected">'+c(a(o(688)).call(l,"select_company",{name:"L",hash:{},data:s}))+"</option>\n                    </select>\n                  </div>\n\n                  "+(null!=(r=t.if.call(l,null!=e?e.usingSSO:e,{name:"if",hash:{},fn:n.program(9,s,0),inverse:n.program(11,s,0),data:s}))?r:"")+'\n\n                  <div class="submit">\n                    <div class="row login-button">\n                      <div class="col-md-12">\n                        <button class="btn btn-lg btn-primary btn-block" type="submit">\n                          '+c(a(o(688)).call(l,"login_to_cubeplan",{name:"L",hash:{},data:s}))+'\n                        </button>\n                      </div>\n                    </div>\n                    <div class="row">\n                      <div class="col-sm-6">\n                        <div class="remember">\n                          <input type="checkbox" name="remember" class=\'icheck-me\' data-skin="square"\n                            data-color="'+c(n.lambda(null!=e?e.colorSchema:e,e))+'" id="remember" checked="checked">\n                          <label for="remember">'+c(a(o(688)).call(l,"remember_me",{name:"L",hash:{},data:s}))+'</label>\n                        </div>\n                      </div>\n                      <div class="col-sm-6">\n                        <div class="forget">\n                          <a id="forgotPassword" href="#">\n                            <span>'+c(a(o(688)).call(l,"forgot_password",{name:"L",hash:{},data:s}))+'</span>\n                          </a>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <span id="loginError" class="help-block login_error"></span>\n                </form>\n              </li>\n            </ul>\n          </div>\n        </div>\n'+(null!=(r=t.if.call(l,null!=e?e.socialLogins:e,{name:"if",hash:{},fn:n.program(14,s,0),inverse:n.noop,data:s}))?r:"")+'        <div class="col-md-12">\n          <div class="poweredBy"></div>\n        </div>\n      </div>\n'+(null!=(r=t.if.call(l,null!=e?e.socialLogins:e,{name:"if",hash:{},fn:n.program(16,s,0),inverse:n.noop,data:s}))?r:"")+"    </div>\n  </div>\n</div>"},useData:!0})},1490:function(n,e,o){var t=o(690);n.exports=(t.default||t).template({1:function(n,e,o,t,a){var i,s=null!=e?e:n.nullContext||{},r=o.helperMissing,l=n.escapeExpression;return'<option value="'+l("function"==typeof(i=null!=(i=o.value||(null!=e?e.value:e))?i:r)?i.call(s,{name:"value",hash:{},data:a}):i)+'" selected="'+l("function"==typeof(i=null!=(i=o.selected||(null!=e?e.selected:e))?i:r)?i.call(s,{name:"selected",hash:{},data:a}):i)+'">'+l("function"==typeof(i=null!=(i=o.name||(null!=e?e.name:e))?i:r)?i.call(s,{name:"name",hash:{},data:a}):i)+"</option>\n"},compiler:[7,">= 4.0.0"],main:function(n,e,o,t,a){var i;return null!=(i=o.each.call(null!=e?e:n.nullContext||{},null!=e?e.options:e,{name:"each",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a}))?i:""},useData:!0})},683:function(n,e,o){"use strict";(function(t){var a;void 0===(a=function(){return t.Controller.extend({name:"showModal",show:function(n){Promise.all([o.e(2),o.e(118)]).then(function(){var e=[o(701)];(function(e){(new e).render(n)}).apply(null,e)}).catch(o.oe)}})}.apply(e,[]))||(n.exports=a)}).call(this,o(694))},688:function(n,e,o){"use strict";var t=o(18);n.exports=function(n){return(0,t.translate)(n)}},724:function(n,e,o){"use strict";(function(t){var a,i=o(18),s=o(693);void 0===(a=function(){var n=function(n,e,t){null!==n.companySettingFile&&""!==n.companySettingFile&&o.e(42).then(function(){var e=[o(713)("./".concat(n.companySettingFile))];(function(){Promise.resolve().then(function(){o(221)}).catch(o.oe)}).apply(null,e)}).catch(o.oe),__currentSession=n,(0,i.setProcessDictionary)(n.process),(0,s.ajaxSetup)(),Promise.all([o.e(2),o.e(6),o.e(43)]).then(function(){var t=[o(684)];(function(o){(new o).clearUI(),e(n)}).apply(null,t)}).catch(o.oe)};return t.Model.extend({isConnected:function(){return""!=__currentToken&&null!==__currentSession},connect:function(n,e,o,t,a){var i={error:function(n,e,o){alert("Could not contact server ".concat(__apiURL))},type:"POST"};(0,s.send)("token-auth/",{username:n,password:e},i,function(n){n&&n.token&&(__currentToken=n.token,(0,s.ajaxSetup)(),t(n))},a,!0,!0)},createSession:function(e,o,t){(0,s.send)("security/createSession",{companyId:e},{type:"POST"},function(e){n(e,o)},t)},getUserCompanies:function(n,e,o){(0,s.send)("security/getUserCompanies",{user:n,password:e},null,function(n){o(n)})},getUserCompaniesFromUserId:function(n,e){(0,s.send)("security/GetUserCompaniesFromUserId/?userId=".concat(n),null,null,function(n){e(n)})},logout:function(n){(0,s.send)("security/logout/",null,{dataType:"text"},function(e){void 0!=n&&n(e)})},getAllSessions:function(n){(0,s.send)("security/getAllSessions/",null,null,n,null,!0)},getMySessions:function(n){(0,s.send)("security/getMySessions/",null,null,n,null,!0)},getAllProcess:function(n){(0,s.send)("security/getAllProcess",null,null,n)},createFromToken:function(n,e,o){__currentToken=n,__currentSession={},(0,i.setProcessDictionary)([]),(0,s.ajaxSetup)(),(0,i.setLanguageDictionary)({}),e()},useExternalLink:function(n,e){(0,s.send)("security/useExternalLink/?guid=".concat(n),null,null,function(n,t){200===t.status?(null!==n.session.companySettingFile&&""!==n.session.companySettingFile&&o.e(42).then(function(){var e=[o(713)("./".concat(n.session.companySettingFile))];(function(){Promise.resolve().then(function(){o(221)}).catch(o.oe)}).apply(null,e)}).catch(o.oe),e(n,t)):e(n,t)})},killSessionByKey:function(n,e){(0,s.send)("security/killSessionByKey/",{session_key:n},{type:"GET",dataType:"text"},e)},createNewSession:function(e,o){(0,s.send)("security/createNewSession/",null,null,function(o){n(o,e)})},requireLogoutSessionByToken:function(n,e){(0,s.send)("security/requireLogoutSessionByToken/",{token:n},null,e)},ssoTest:function(){(0,s.send)("security/ssoTest",null,null,function(n){console.log(n)})},ssoCheckUser:function(n,e){(0,s.send)("security/SSOCheckUser/",null,null,n,e)},loginas:function(e,o,t,a,i){var r={error:function(n,e,o){alert("Could not contact server ".concat(__apiURL))}};(0,s.send)("security/loginas",{userId:e,token:o,companyId:t},r,function(e){n(e,a)})},loginFromToken:function(e,o,t){var a={error:function(n,e,o){alert("Could not contact server ".concat(__apiURL))}};(0,s.send)("security/loginFromToken",{token:e},a,function(e){n(e,o)})}})}.apply(e,[]))||(n.exports=a)}).call(this,o(218))},782:function(n,e,o){"use strict";(function(t,a){var i,s,r=o(18);i=[o(683),o(796)],void 0===(s=function(n,e){return t.View.extend({el:a("#main"),is_done:!1,render:function(o){var t=this,i=e(),s=new n,l=a("#main");void 0!=o&&o.custom_el&&(l=o.custom_el),s.show({title:(0,r.translate)("starting_environment"),html:i,custom_el:l,modalClass:"",backdrop:"static",keyboard:!1,onLoad:function(){a("#main-modal button.close").hide();var n=3,e=0;!function o(){if(0!=a("#main-modal").length)if(t.is_done)t.updateProgressbar(100),a("#main-modal .loading_progress").text("Done!"),setTimeout(function(){a("#main-modal button.close").click()},200);else{(e+=n)>=99&&(e=99),t.updateProgressbar(e);var i="";switch(!0){case e<30:i=(0,r.translate)("creating_environment")+"...";break;case e<60:i=(0,r.translate)("starting_environment")+"...";break;case e<85:i=(0,r.translate)("loading_workspace")+"...",n=1.5;break;case e<96:n=.5,i=(0,r.translate)("starting_pyplan_calc_engine")+"...";break;case e<=100:n=.2,i=(0,r.translate)("opening_model")+"..."}a("#main-modal .loading_progress").text(i),setTimeout(o,500)}}()}})},updateProgressbar:function(n){a("#main-modal .progress-bar").css("width",n+"%")},close:function(){a("#main-modal button.close").click()},done:function(){this.is_done=!0}})}.apply(e,i))||(n.exports=s)}).call(this,o(218),o(1))},796:function(n,e,o){var t=o(690);n.exports=(t.default||t).template({compiler:[7,">= 4.0.0"],main:function(n,e,o,t,a){return'<div class="row">\n\n  <div class="progress progress-striped active" style="background-color:#f1f1f1; width:80%; margin: 0 auto;">\n    <div class="progress-bar" role="progressbar" aria-valuenow="1" aria-valuemin="0" aria-valuemax="100"\n      style="width: 1%">\n      <span class="sr-only"></span>\n    </div>\n  </div>\n\n</div>\n<div class="row text-center">\n  <h6 class="loading_progress"></h6>\n</div>'},useData:!0})},984:function(n,e,o){"use strict";(function(t){var a,i=o(693);void 0===(a=function(){return t.Model.extend({sendPasswordResetEmail:function(n,e,o,t){(0,i.send)("sendPasswordResetEmail/",JSON.stringify({username:n,publicUrl:e}),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},o,t)},passwordReset:function(n,e,o){(0,i.send)("passwordReset/",JSON.stringify({query:n}),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},e,o)}})}.apply(e,[]))||(n.exports=a)}).call(this,o(218))}}]);